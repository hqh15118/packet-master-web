(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5aa73878"],{"0328":function(t,e,a){"use strict";var l=a("3fa8"),i=a.n(l);i.a},"0813":function(t,e,a){"use strict";var l=[{value:1,label:"离散量输入"},{value:2,label:"线圈"},{value:3,label:"输入寄存器"},{value:4,label:"保持寄存器"}],i=[{value:1,label:"DOS攻击"},{value:2,label:"嗅探攻击"},{value:3,label:"非法控制站点篡改攻击"},{value:4,label:"数据篡改攻击"},{value:5,label:"代码篡改攻击"},{value:6,label:"配置篡改攻击"}],n=[{value:1,label:"高"},{value:2,label:"中"},{value:3,label:"低"}],r=[{value:1,label:"modbus"},{value:2,label:"s7comm"},{value:3,label:"iec104"},{value:4,label:"profinetio"}];e["a"]={registerOptions:l,attackType:i,levelType:n,param_protocol:r}},2432:function(t,e,a){},"333d":function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},i=[];a("c5f6");Math.easeInOutQuad=function(t,e,a,l){return t/=l/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function r(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function o(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(t,e,a){var l=o(),i=t-l,s=20,c=0;e="undefined"===typeof e?500:e;var u=function t(){c+=s;var o=Math.easeInOutQuad(c,l,i,e);r(o),c<e?n(t):a&&"function"===typeof a&&a()};u()}var c={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[20,50,100]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&s(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&s(0,800)}}},u=c,d=(a("a889"),a("2877")),p=Object(d["a"])(u,l,i,!1,null,"432768be",null);e["a"]=p.exports},"3fa8":function(t,e,a){},"418d":function(t,e,a){"use strict";var l=a("9060"),i=a.n(l);i.a},6724:function(t,e,a){"use strict";a("8d41");var l="@@wavesContext";function i(t,e){function a(a){var l=Object.assign({},e.value),i=Object.assign({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},l),n=i.ele;if(n){n.style.position="relative",n.style.overflow="hidden";var r=n.getBoundingClientRect(),o=n.querySelector(".waves-ripple");switch(o?o.className="waves-ripple":(o=document.createElement("span"),o.className="waves-ripple",o.style.height=o.style.width=Math.max(r.width,r.height)+"px",n.appendChild(o)),i.type){case"center":o.style.top=r.height/2-o.offsetHeight/2+"px",o.style.left=r.width/2-o.offsetWidth/2+"px";break;default:o.style.top=(a.pageY-r.top-o.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",o.style.left=(a.pageX-r.left-o.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return o.style.backgroundColor=i.color,o.className="waves-ripple z-active",!1}}return t[l]?t[l].removeHandle=a:t[l]={removeHandle:a},a}var n={bind:function(t,e){t.addEventListener("click",i(t,e),!1)},update:function(t,e){t.removeEventListener("click",t[l].removeHandle,!1),t.addEventListener("click",i(t,e),!1)},unbind:function(t){t.removeEventListener("click",t[l].removeHandle,!1),t[l]=null,delete t[l]}},r=function(t){t.directive("waves",n)};window.Vue&&(window.waves=n,Vue.use(r)),n.install=r;e["a"]=n},"6fec":function(t,e,a){"use strict";var l=a("f992"),i=a.n(l);i.a},"77eb":function(t,e,a){"use strict";var l={modbus:1,s7comm:2,iec104:3,profinetio:4};e["a"]={param_protocol:l}},"7cdf":function(t,e,a){var l=a("5ca1");l(l.S,"Number",{isInteger:a("9c12")})},"88e8":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("el-tabs",[a("el-tab-pane",{attrs:{label:"MODBUS"}},[a("modbus")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"S7"}},[a("s7")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"IEC104"}},[a("iec104")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"PROFINET_IO"}},[a("profinetio")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"脚本配置"}},[a("file-upload")],1)],1)],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入参数名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.listQuery.tag,callback:function(e){t.$set(t.listQuery,"tag",e)},expression:"listQuery.tag"}}),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("\n      搜索\n    ")]),t._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v("\n      添加\n    ")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"1000px",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"变量名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.tag))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"数据类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.type))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"字节偏移",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.byteoffset))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"位偏移",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.bitoffset))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"长度",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.length))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"DB块",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.database))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"描述",align:"center",width:"500"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.detail))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否显示",align:"center",fixed:"right",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},on:{change:function(a){return t.changeSwitch(e.row)}},model:{value:e.row.showGraph,callback:function(a){t.$set(e.row,"showGraph",a)},expression:"scope.row.showGraph"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleUpdate(l)}}},[t._v("\n          编辑\n        ")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.handleDelete(l)}}},[t._v("\n          删除\n        ")])]}}])})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}}),t._v(" "),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"800px","margin-left":"50px"},attrs:{"status-icon":"",model:t.temp,"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"变量名称",prop:"tag"}},[a("el-input",{model:{value:t.temp.tag,callback:function(e){t.$set(t.temp,"tag",e)},expression:"temp.tag"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"DB块",prop:"database"}},[a("el-input",{model:{value:t.temp.database,callback:function(e){t.$set(t.temp,"database",e)},expression:"temp.database"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"字节偏移",prop:"byteOffset"}},[a("el-input-number",{attrs:{min:0,max:2e3},model:{value:t.temp.byteOffset,callback:function(e){t.$set(t.temp,"byteOffset",e)},expression:"temp.byteOffset"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"位偏移",prop:"bitOffset"}},[a("el-input-number",{attrs:{min:0,max:2e3},model:{value:t.temp.bitOffset,callback:function(e){t.$set(t.temp,"bitOffset",e)},expression:"temp.bitOffset"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"长度",prop:"length"}},[a("el-input-number",{attrs:{min:0,max:2e3},model:{value:t.temp.length,callback:function(e){t.$set(t.temp,"length",e)},expression:"temp.length"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"type",label:"数据类型"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"400px"},attrs:{placeholder:"数据类型","default-first-option":""},model:{value:t.temp.type,callback:function(e){t.$set(t.temp,"type",e)},expression:"temp.type"}},t._l(t.typeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"details"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"50","show-word-limit":""},model:{value:t.temp.details,callback:function(e){t.$set(t.temp,"details",e)},expression:"temp.details"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelClick}},[t._v("\n        取 消\n      ")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createData():t.updateData()}}},[t._v("\n        确 定\n      ")])],1)],1)],1)},r=[],o=a("a5e5"),s=a("6724"),c=a("333d"),u=a("77eb"),d={name:"ParamConfig",components:{Pagination:c["a"]},directives:{waves:s["a"]},data:function(){return{listLoading:!0,tableData:[],total:0,typeOptions:[{value:"int",label:"Int"},{value:"float",label:"Float"},{value:"bool",label:"Bool"}],temp:{id:"",tag:"",type:"",byteOffset:"",bitOffset:"",length:"",database:"",details:"",showGraph:0,protocolId:u["a"].param_protocol["s7comm"]},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑工艺参数",create:"添加工艺参数"},listQuery:{page:1,limit:20,tag:"",protocolId:u["a"].param_protocol["s7comm"]}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(o["c"])(this.listQuery).then(function(e){console.log(e.data),t.tableData=e.data}),this.listLoading=!1},handleFilter:function(){this.listQuery.page=1,this.getList()},resetTemp:function(){this.temp={id:"",tag:"",type:"",byteOffset:"",bitOffset:"",length:"",database:"",details:"",showGraph:0,protocolId:u["a"].param_protocol["s7comm"]}},handleCreate:function(){var t=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},createData:function(){var t=this;this.$refs["dataForm"].validate(function(e){if(e){t.temp.byteOffset=parseInt(t.temp.byteOffset),t.temp.bitOffset=parseInt(t.temp.bitOffset),t.temp.length=parseInt(t.temp.length);var a=t.temp;Object(o["b"])(a).then(function(){t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3}),t.handleFilter()}),t.dialogFormVisible=!1}})},handleUpdate:function(t){var e=this;this.temp={id:t.id,tag:t.tag,type:t.type,byteOffset:t.byteoffset,bitOffset:t.bitoffset,length:t.length,database:t.database,details:t.detail,showGraph:t.showGraph,protocolId:t.protocolId},this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},updateData:function(){var t=this;this.$refs["dataForm"].validate(function(e){e&&(Object(o["b"])(t.temp).then(function(){t.$notify({title:"成功",message:"更新成功",type:"success"}),t.handleFilter()}),t.dialogFormVisible=!1)})},handleDelete:function(t){var e=this;Object(o["f"])(t.id,2).then(function(){e.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),e.handleFilter()})},cancelClick:function(){this.dialogFormVisible=!1,this.$refs["dataForm"].resetFields()},changeSwitch:function(t){var e=this,a={protocolId:u["a"].param_protocol["s7comm"],tag:t.tag,showGraph:t.showGraph};Object(o["a"])(a).then(function(){0===t.showGraph?e.$notify({title:"成功",message:"关闭显示成功",type:"success",duration:2e3}):e.$notify({title:"成功",message:"开启显示成功",type:"success",duration:2e3})})}}},p=d,m=a("2877"),f=Object(m["a"])(p,n,r,!1,null,null,null),h=f.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入参数名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.listQuery.tag,callback:function(e){t.$set(t.listQuery,"tag",e)},expression:"listQuery.tag"}}),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("\n      搜索\n    ")]),t._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v("\n      添加\n    ")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"1000px",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"参数名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.tag))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"寄存器类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticClass:"filter-item",attrs:{disabled:""},model:{value:e.row.reg_coil,callback:function(a){t.$set(e.row,"reg_coil",a)},expression:"scope.row.reg_coil"}},t._l(t.registerOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"数据类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticClass:"filter-item",attrs:{disabled:""},model:{value:e.row.type,callback:function(a){t.$set(e.row,"type",a)},expression:"scope.row.type"}},t._l(t.typeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"数据长度",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.length))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"字节偏移",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.addr_head))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"位偏移",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.bitoffset))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"量程范围",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0===e.row.range[1]?"":e.row.range))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"描述",align:"center",width:"500"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.detail))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否显示",align:"center",fixed:"right",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},on:{change:function(a){return t.changeSwitch(e.row)}},model:{value:e.row.showGraph,callback:function(a){t.$set(e.row,"showGraph",a)},expression:"scope.row.showGraph"}},[t._v("\n          />\n        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleUpdate(l)}}},[t._v("\n          编辑\n        ")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.handleDelete(l)}}},[t._v("\n          删除\n        ")])]}}])})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}}),t._v(" "),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{"margin-left":"50px"},attrs:{rules:t.rules,"status-icon":"",model:t.temp,"label-position":"left","label-width":"100px","hide-required-asterisk":!0}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"参数名称",prop:"tag"}},[a("el-input",{model:{value:t.temp.tag,callback:function(e){t.$set(t.temp,"tag",e)},expression:"temp.tag"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"reg_coil",label:"寄存器类型"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"400px"},attrs:{placeholder:"寄存器类型","default-first-option":""},model:{value:t.temp.reg_coil,callback:function(e){t.$set(t.temp,"reg_coil",e)},expression:"temp.reg_coil"}},t._l(t.registerOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"type",label:"数据类型"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"400px"},attrs:{placeholder:"数据类型","default-first-option":""},model:{value:t.temp.type,callback:function(e){t.$set(t.temp,"type",e)},expression:"temp.type"}},t._l(t.typeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"数据长度",prop:"length"}},[a("el-input-number",{attrs:{min:1,max:2e3},model:{value:t.temp.length,callback:function(e){t.$set(t.temp,"length",e)},expression:"temp.length"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"字节偏移",prop:"addr_head"}},[a("el-input-number",{attrs:{min:0,max:2e3},model:{value:t.temp.addr_head,callback:function(e){t.$set(t.temp,"addr_head",e)},expression:"temp.addr_head"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"位偏移",prop:"bitoffset"}},[a("el-input-number",{attrs:{min:0,max:2e3},model:{value:t.temp.bitoffset,callback:function(e){t.$set(t.temp,"bitoffset",e)},expression:"temp.bitoffset"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"量程范围",prop:"range"}},[a("range-input",{ref:"ri",attrs:{"min-val":0,"max-val":65535,required:!1}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"details"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"50","show-word-limit":""},model:{value:t.temp.details,callback:function(e){t.$set(t.temp,"details",e)},expression:"temp.details"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelClick}},[t._v("\n        取 消\n      ")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createData():t.updateData()}}},[t._v("\n        确 定\n      ")])],1)],1)],1)},v=[],b=a("0813"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"form",attrs:{rules:t.required?t.rules:t.no_rules,inline:!0,model:t.form}},[a("el-form-item",{attrs:{prop:"min"}},[a("el-input",{on:{change:t.handleMinChange},model:{value:t.form.min,callback:function(e){t.$set(t.form,"min",e)},expression:"form.min"}})],1),t._v("\n    -\n    "),a("el-form-item",{attrs:{prop:"max"}},[a("el-input",{on:{change:t.handleMaxChange},model:{value:t.form.max,callback:function(e){t.$set(t.form,"max",e)},expression:"form.max"}})],1)],1)],1)},_=[],w=(a("7cdf"),a("c5f6"),{props:{minVal:{type:Number,default:0},maxVal:{type:Number,default:1},required:{type:Boolean,default:!0}},data:function(){return{form:{min:"",max:""},rules:{min:[{required:!0,message:"必填项，请输入",trigger:"blur"},{validator:this.validateCom,trigger:"blur"},{validator:this.validateMin,trigger:"blur"}],max:[{required:!0,message:"必填项，请输入",trigger:"blur"},{validator:this.validateCom,trigger:"blur"},{validator:this.validateMax,trigger:"blur"}]},no_rules:{}}},methods:{getFormData:function(){var t=this,e={};return this.$refs.form.validate(function(a){e.valid=a,e.form=t.form}),e},resetForm:function(){this.$refs.form.resetFields()},handleMinChange:function(){this.$refs.form.validateField("max")},handleMaxChange:function(){this.$refs.form.validateField("min")},validateCom:function(t,e,a){var l=Number(e);return Number.isInteger(l)?l<this.minVal?a(new Error("输入值必须大于"+this.minVal)):l>this.maxVal?a(new Error("输入值必须小于"+this.maxVal)):a():a(new Error("输入值必须为正整数"))},validateMin:function(t,e,a){var l=Number(e),i=Number(this.form.max);return!i||l<i?a():a(new Error("输入值不得大于最大阈值"))},validateMax:function(t,e,a){var l=Number(e),i=Number(this.form.min);return!i||l>i?a():a(new Error("输入值不得小于最小阈值"))}}}),x=w,k=Object(m["a"])(x,y,_,!1,null,null,null),$=k.exports,S={name:"ModbusParam",components:{Pagination:c["a"],RangeInput:$},directives:{waves:s["a"]},data:function(){return{alarmSwitch:!1,listLoading:!0,tableData:[],typeOptions:[{value:"int",label:"Int"},{value:"float",label:"Float"},{value:"short",label:"Short"},{value:"bool",label:"Bool"}],total:0,temp:{protocolId:u["a"].param_protocol["modbus"],showGraph:0,tag:"",id:0,type:"",length:"",addr_head:"",reg_coil:"",bitoffset:"",range:[],details:""},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑工艺参数",create:"添加工艺参数"},listQuery:{page:1,limit:20,tag:"",protocolId:u["a"].param_protocol["modbus"]},registerOptions:b["a"].registerOptions,rules:{tag:[{required:!0,message:"请输入参数名称",trigger:"blur"}],reg_coil:[{required:!0,message:"请选择寄存器类型",trigger:"change"}],type:[{required:!0,message:"请选择寄存器类型",trigger:"change"}],length:[{required:!0,message:"不能为空",trigger:"change"}],addr_head:[{required:!0,message:"不能为空",trigger:"change"}]}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(o["c"])(this.listQuery).then(function(e){t.tableData=e.data,console.log(t.tableData)}),this.listLoading=!1},handleFilter:function(){this.listQuery.page=1,this.getList()},resetTemp:function(){this.temp={protocolId:u["a"].param_protocol["modbus"],showGraph:0,tag:"",id:"",type:"",length:"",addr_head:"",bitoffset:"",reg_coil:"",range:[],details:""}},handleCreate:function(){var t=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs["dataForm"].clearValidate(),t.$refs.ri.resetForm()})},createData:function(){var t=this,e=this.$refs.ri.getFormData();this.$refs["dataForm"].validate(function(a){if(a){t.temp.range=null===e.form.min?null:[e.form.min,e.form.max],t.temp.length=parseInt(t.temp.length),t.temp.addr_head=parseInt(t.temp.addr_head),t.temp.reg_coil=parseInt(t.temp.reg_coil);var l=t.temp;Object(o["b"])(l).then(function(){t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3}),t.handleFilter()}),t.dialogFormVisible=!1}})},handleUpdate:function(t){var e=this;this.temp=Object.assign({},t),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},updateData:function(){var t=this;this.$refs["dataForm"].validate(function(e){e&&(Object(o["b"])(t.temp).then(function(){t.$notify({title:"成功",message:"更新成功",type:"success"}),t.handleFilter()}),t.dialogFormVisible=!1)})},handleDelete:function(t){var e=this;Object(o["f"])(t.id,1).then(function(){e.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),e.handleFilter()})},cancelClick:function(){this.dialogFormVisible=!1,this.$refs["ri"].resetForm(),this.$refs["dataForm"].resetFields()},changeSwitch:function(t){var e=this;console.log(t.showGraph);var a={protocolId:u["a"].param_protocol["modbus"],tag:t.tag,showGraph:t.showGraph};Object(o["a"])(a).then(function(){0===t.showGraph?e.$notify({title:"成功",message:"关闭显示成功",type:"success",duration:2e3}):e.$notify({title:"成功",message:"开启显示成功",type:"success",duration:2e3})})}}},O=S,F=(a("418d"),Object(m["a"])(O,g,v,!1,null,null,null)),C=F.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入参数名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.listQuery.tag,callback:function(e){t.$set(t.listQuery,"tag",e)},expression:"listQuery.tag"}}),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("\n      搜索\n    ")]),t._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v("\n      添加\n    ")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"1000px",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"变量名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.tag))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"IOA地址(SET)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.setIOAAddress))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"IOA地址(MV)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.mvIOAAddress))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"描述",align:"center",width:"500"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.detail))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否显示",align:"center",fixed:"right",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},on:{change:function(a){return t.changeSwitch(e.row)}},model:{value:e.row.showGraph,callback:function(a){t.$set(e.row,"showGraph",a)},expression:"scope.row.showGraph"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleUpdate(l)}}},[t._v("\n          编辑\n        ")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.handleDelete(l)}}},[t._v("\n          删除\n        ")])]}}])})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}}),t._v(" "),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"800px","margin-left":"50px"},attrs:{"status-icon":"",model:t.temp,"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"变量名称",prop:"tag"}},[a("el-input",{model:{value:t.temp.tag,callback:function(e){t.$set(t.temp,"tag",e)},expression:"temp.tag"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"IOA地址(SET)",prop:"setIOAAddress"}},[a("el-input",{model:{value:t.temp.setIOAAddress,callback:function(e){t.$set(t.temp,"setIOAAddress",e)},expression:"temp.setIOAAddress"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"IOA地址(MV)",prop:"mvIOAAddress"}},[a("el-input",{model:{value:t.temp.mvIOAAddress,callback:function(e){t.$set(t.temp,"mvIOAAddress",e)},expression:"temp.mvIOAAddress"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"details"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"50","show-word-limit":""},model:{value:t.temp.details,callback:function(e){t.$set(t.temp,"details",e)},expression:"temp.details"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelClick}},[t._v("\n        取 消\n      ")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createData():t.updateData()}}},[t._v("\n        确 定\n      ")])],1)],1)],1)},V=[],D={name:"ParamConfig",components:{Pagination:c["a"]},directives:{waves:s["a"]},data:function(){return{listLoading:!0,tableData:[],total:0,temp:{id:"",tag:"",setIOAAddress:"",mvIOAAddress:"",details:"",showGraph:0,protocolId:u["a"].param_protocol["iec104"]},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑工艺参数",create:"添加工艺参数"},listQuery:{page:1,limit:20,tag:"",protocolId:u["a"].param_protocol["iec104"]}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(o["c"])(this.listQuery).then(function(e){t.tableData=e.data}),this.listLoading=!1},handleFilter:function(){this.listQuery.page=1,this.getList()},resetTemp:function(){this.temp={id:"",tag:"",setIOAAddress:"",mvIOAAddress:"",details:"",showGraph:0,protocolId:u["a"].param_protocol["iec104"]}},handleCreate:function(){var t=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},createData:function(){var t=this;this.$refs["dataForm"].validate(function(e){if(e){t.temp.byteOffset=parseInt(t.temp.byteOffset),t.temp.bitOffset=parseInt(t.temp.bitOffset),t.temp.length=parseInt(t.temp.length);var a=t.temp;Object(o["b"])(a).then(function(){t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3}),t.handleFilter()}),t.dialogFormVisible=!1}})},handleUpdate:function(t){var e=this;this.temp=Object.assign({},t),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},updateData:function(){var t=this;this.$refs["dataForm"].validate(function(e){e&&(Object(o["b"])(t.temp).then(function(){t.$notify({title:"成功",message:"更新成功",type:"success"}),t.handleFilter()}),t.dialogFormVisible=!1)})},handleDelete:function(t){var e=this;Object(o["f"])(t.id,2).then(function(){e.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),e.handleFilter()})},cancelClick:function(){this.dialogFormVisible=!1,this.$refs["dataForm"].resetFields()},changeSwitch:function(t){var e=this,a={protocolId:u["a"].param_protocol["s7"],tag:t.tag,showGraph:t.showGraph};Object(o["a"])(a).then(function(){0===t.showGraph?e.$notify({title:"成功",message:"关闭显示成功",type:"success",duration:2e3}):e.$notify({title:"成功",message:"开启显示成功",type:"success",duration:2e3})})}}},L=D,Q=Object(m["a"])(L,I,V,!1,null,null,null),j=Q.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入参数名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.listQuery.tag,callback:function(e){t.$set(t.listQuery,"tag",e)},expression:"listQuery.tag"}}),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("\n      搜索\n    ")]),t._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v("\n      添加\n    ")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"1000px",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"参数名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.tag))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"量程范围",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.range))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"MAC地址",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.macaddress))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"数据长度",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.length))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"数据类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticClass:"filter-item",attrs:{disabled:""},model:{value:e.row.type,callback:function(a){t.$set(e.row,"type",a)},expression:"scope.row.type"}},t._l(t.typeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"字节偏移",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.byteoffset))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"位偏移",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.bitoffset))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"描述",align:"center",width:"500"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.detail))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否显示",align:"center",fixed:"right",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},on:{change:function(a){return t.changeSwitch(e.row)}},model:{value:e.row.showGraph,callback:function(a){t.$set(e.row,"showGraph",a)},expression:"scope.row.showGraph"}},[t._v("\n          />\n        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleUpdate(l)}}},[t._v("\n          编辑\n        ")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.handleDelete(l)}}},[t._v("\n          删除\n        ")])]}}])})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}}),t._v(" "),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"800px","margin-left":"50px"},attrs:{rules:t.rules,"status-icon":"",model:t.temp,"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"参数名称",prop:"tag"}},[a("el-input",{model:{value:t.temp.tag,callback:function(e){t.$set(t.temp,"tag",e)},expression:"temp.tag"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"量程范围",prop:"range"}},[a("range-input",{ref:"ri",attrs:{"min-val":0,"max-val":65535,required:!1}})],1),t._v(" "),a("el-form-item",{attrs:{label:"MAC地址",prop:"macaddress"}},[a("el-input",{model:{value:t.temp.macaddress,callback:function(e){t.$set(t.temp,"macaddress",e)},expression:"temp.macaddress"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"数据长度",prop:"length"}},[a("el-input-number",{attrs:{min:1,max:2e3},model:{value:t.temp.length,callback:function(e){t.$set(t.temp,"length",e)},expression:"temp.length"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"type",label:"数据类型"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"400px"},attrs:{placeholder:"数据类型","default-first-option":""},model:{value:t.temp.type,callback:function(e){t.$set(t.temp,"type",e)},expression:"temp.type"}},t._l(t.typeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"字节偏移",prop:"byteoffset"}},[a("el-input-number",{attrs:{min:0,max:2e3},model:{value:t.temp.byteoffset,callback:function(e){t.$set(t.temp,"byteoffset",e)},expression:"temp.byteoffset"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"位偏移",prop:"bitoffset"}},[a("el-input-number",{attrs:{min:0,max:2e3},model:{value:t.temp.bitoffset,callback:function(e){t.$set(t.temp,"bitoffset",e)},expression:"temp.bitoffset"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"details"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"50","show-word-limit":""},model:{value:t.temp.details,callback:function(e){t.$set(t.temp,"details",e)},expression:"temp.details"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelClick}},[t._v("\n        取 消\n      ")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createData():t.updateData()}}},[t._v("\n        确 定\n      ")])],1)],1)],1)},G=[],E={name:"ModbusParam",components:{Pagination:c["a"],RangeInput:$},directives:{waves:s["a"]},data:function(){return{alarmSwitch:!1,listLoading:!0,tableData:[],typeOptions:[{value:"int",label:"Int"},{value:"float",label:"Float"},{value:"short",label:"Short"},{value:"bool",label:"Bool"}],total:0,temp:{protocolId:u["a"].param_protocol["profinetio"],showGraph:0,id:0,tag:"",macaddress:"",type:"",length:"",bitoffset:"",byteoffset:"",range:[],details:""},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑工艺参数",create:"添加工艺参数"},listQuery:{page:1,limit:20,tag:"",protocolId:u["a"].param_protocol["modbus"]},registerOptions:b["a"].registerOptions,rules:{tag:[{required:!0,message:"请输入参数名称",trigger:"blur"}],reg_coil:[{required:!0,message:"请选择寄存器类型",trigger:"change"}],type:[{required:!0,message:"请选择寄存器类型",trigger:"change"}],length:[{required:!0,message:"不能为空",trigger:"change"}],addr_head:[{required:!0,message:"不能为空",trigger:"change"}]}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(o["c"])(this.listQuery).then(function(e){t.tableData=e.data}),this.listLoading=!1},handleFilter:function(){this.listQuery.page=1,this.getList()},resetTemp:function(){this.temp={protocolId:u["a"].param_protocol["profinetio"],showGraph:0,id:0,tag:"",macaddress:"",type:"",length:"",bitoffset:"",byteoffset:"",range:[],details:""}},handleCreate:function(){var t=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs["dataForm"].clearValidate(),t.$refs.ri.resetForm()})},createData:function(){var t=this,e=this.$refs.ri.getFormData();this.$refs["dataForm"].validate(function(a){if(a){t.temp.range=[parseInt(e.form.min),parseInt(e.form.max)],t.temp.length=parseInt(t.temp.length);var l=t.temp;Object(o["b"])(l).then(function(){t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3}),t.handleFilter()}),t.dialogFormVisible=!1}})},handleUpdate:function(t){var e=this;this.temp=Object.assign({},t),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},updateData:function(){var t=this;this.$refs["dataForm"].validate(function(e){e&&(Object(o["b"])(t.temp).then(function(){t.$notify({title:"成功",message:"更新成功",type:"success"}),t.handleFilter()}),t.dialogFormVisible=!1)})},handleDelete:function(t){var e=this;Object(o["f"])(t.id,1).then(function(){e.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),e.handleFilter()})},cancelClick:function(){this.dialogFormVisible=!1,this.$refs["ri"].resetForm(),this.$refs["dataForm"].resetFields()},changeSwitch:function(t){var e=this;console.log(t.showGraph);var a={protocolId:u["a"].param_protocol["modbus"],tag:t.tag,showGraph:t.showGraph};Object(o["a"])(a).then(function(){0===t.showGraph?e.$notify({title:"成功",message:"关闭显示成功",type:"success",duration:2e3}):e.$notify({title:"成功",message:"开启显示成功",type:"success",duration:2e3})})}}},N=E,T=(a("0328"),Object(m["a"])(N,A,G,!1,null,null,null)),z=T.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"50%",margin:"100px"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,"file-list":t.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传")])],1)],1)},q=[],P=(a("7f7f"),{data:function(){return{fileList:[]}},methods:{submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},beforeRemove:function(t,e){return this.$confirm("确定移除 ".concat(t.name,"？"))}}}),U=P,B=(a("6fec"),Object(m["a"])(U,M,q,!1,null,"11e0a4c8",null)),R=B.exports,H={components:{s7:h,fileUpload:R,modbus:C,iec104:j,profinetio:z}},J=H,W=(a("a0eb"),Object(m["a"])(J,l,i,!1,null,null,null));e["default"]=W.exports},"8d41":function(t,e,a){},9060:function(t,e,a){},"9c12":function(t,e,a){var l=a("d3f4"),i=Math.floor;t.exports=function(t){return!l(t)&&isFinite(t)&&i(t)===t}},a0eb:function(t,e,a){"use strict";var l=a("be21"),i=a.n(l);i.a},a5e5:function(t,e,a){"use strict";a.d(e,"c",function(){return i}),a.d(e,"f",function(){return n}),a.d(e,"b",function(){return r}),a.d(e,"a",function(){return o}),a.d(e,"e",function(){return s}),a.d(e,"d",function(){return c});var l=a("b775");function i(t){return Object(l["a"])({url:"/art_config/get_paged_art_config",method:"post",data:t})}function n(t,e){return Object(l["a"])({url:"/art_config/delete_art_config",method:"delete",params:{artConfigId:t,protocolId:e}})}function r(t){return Object(l["a"])({url:"/art_config/new_config",method:"post",data:t})}function o(t){return Object(l["a"])({url:"/art_config/change_show_state",method:"post",data:t})}function s(t){return Object(l["a"])({url:"/art_data/history",method:"post",data:t})}function c(t){return Object(l["a"])({url:"/art_config/protocol_art",method:"get",params:{protocol:t}})}},a889:function(t,e,a){"use strict";var l=a("2432"),i=a.n(l);i.a},be21:function(t,e,a){},f992:function(t,e,a){}}]);